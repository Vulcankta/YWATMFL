mixed-port: 7890
allow-lan: false
mode: rule
log-level: silent
ipv6: true

proxy-providers:
  myproxy:
    type: http
    url: https://sub.xeton.dev/sub?target=clash&new_name=true&url=https%3A%2F%2Fsub1.smallstrawberry.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dbaf1774af43e95006540f8d59597f433%7Chttps%3A%2F%2Fxn--mesr8b36xr0o.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Df089404cca2afa4894b85da4488417f6&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Mini_MultiMode.ini&append_type=true&emoji=true&list=true&tfo=false&scv=false&fdn=true&sort=true&udp=true #粘貼 Proxy Provider Converter 提供的鏈接
    interval: 10800
    path: ./myproxy.yaml
    health-check:
      enable: true
      interval: 300
      lazy: false
      url: http://cp.cloudflare.com

proxy-groups: # 建立策略組
        - name: 🔯 代理模式 
          type: select
          proxies:
            - 黑名單 # 黑名單模式，意為「只有命中規則的網絡流量，才使用代理」
            - 繞過大陸 # 繞過大陸模式，意為「沒有命中規則的網絡流量，統統使用代理」
            
        - name: 🔰 選擇節點 
          type: url-test
          url: http://cp.cloudflare.com
          interval: 300
          tolerance: 200
          lazy: false
          disable-udp: false
          use:
            - myproxy
            
        - name: 🛑 廣告攔截
          type: select
          proxies:
            - DIRECT
            - REJECT
            - PROXY
            
        - name: 黑名單
          type: select
          proxies:
            - DIRECT
            
        - name: 繞過大陸
          type: select
          proxies:
            - PROXY
            
        - name: PROXY
          type: select
          proxies:
            - 🔰 選擇節點

rule-providers: 
        reject: # 廣告域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/reject.txt"
          path: ./ruleset/reject.yaml
          interval: 10800
          
        icloud: # iCloud 域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/icloud.txt"
          path: ./ruleset/icloud.yaml
          interval: 10800
          
        apple: # Apple 在中國大陸可直連的域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/apple.txt"
          path: ./ruleset/apple.yaml
          interval: 10800
          
        google: # Google 在中國大陸可直連的域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/google.txt"
          path: ./ruleset/google.yaml
          interval: 10800
          
        direct: # 直連域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/direct.txt"
          path: ./ruleset/direct.yaml
          interval: 10800
          
        private: # 私有網絡專用域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/private.txt"
          path: ./ruleset/private.yaml
          interval: 10800
          
        gfw: # GFWList 域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/gfw.txt"
          path: ./ruleset/gfw.yaml
          interval: 10800
          
        greatfire: # GreatFire 域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/greatfire.txt"
          path: ./ruleset/greatfire.yaml
          interval: 10800
          
        tld-not-cn: # 非中國大陸使用的頂級域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt"
          path: ./ruleset/tld-not-cn.yaml
          interval: 10800
          
        telegramcidr: # Telegram 使用的 IP 地址列表
          type: http
          behavior: ipcidr
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/telegramcidr.txt"
          path: ./ruleset/telegramcidr.yaml
          interval: 10800
          
        cncidr: # 中國大陸 IP 地址列表
          type: http
          behavior: ipcidr
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/cncidr.txt"
          path: ./ruleset/cncidr.yaml
          interval: 10800
          
        lancidr: # 局域網 IP 及保留 IP 地址列表
          type: http
          behavior: ipcidr
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/lancidr.txt"
          path: ./ruleset/lancidr.yaml
          interval: 10800

        proxy: # 代理域名列表
          type: http
          behavior: domain
          url: "https://raw.gitmirror.com/Loyalsoldier/clash-rules/release/proxy.txt"
          path: ./ruleset/proxy.yaml
          interval: 10800

        myselfreject: # 自用禁止規則
          type: http
          behavior: classical
          url: "https://raw.gitmirror.com/Vulcankta/CLASH-PARSERS/main/myselfreject.yaml"
          path: ./ruleset/myselfreject.yaml
          interval: 10800       
          
        myselfproxy: # 自用代理規則
          type: http
          behavior: classical
          url: "https://raw.gitmirror.com/Vulcankta/CLASH-PARSERS/main/myselfproxy.yaml"
          path: ./ruleset/myselfproxy.yaml
          interval: 10800             

        myselfdirect: # 自用直連規則
          type: http
          behavior: classical
          url: "https://raw.gitmirror.com/Vulcankta/CLASH-PARSERS/main/myselfdirect.yaml"
          path: ./ruleset/myselfdirect.yaml
          interval: 10800

rules: # 規則由上往下遍歷，如上面規則已經命中，則不再往下處理
        - DOMAIN,clash.razord.top,DIRECT
        - DOMAIN,yacd.haishan.me,DIRECT
        - RULE-SET,private,DIRECT
        - RULE-SET,lancidr,DIRECT
        - GEOIP,LAN,DIRECT
        - RULE-SET,reject,🛑 廣告攔截
        - RULE-SET,myselfreject,REJECT        
        - RULE-SET,myselfproxy,PROXY
        - RULE-SET,myselfdirect,DIRECT
        - RULE-SET,icloud,DIRECT #
        - RULE-SET,apple,DIRECT # 這三個為國內可直連地址，如果希望走代理改為PROXY
        - RULE-SET,google,DIRECT #
        - RULE-SET,direct,DIRECT
        - RULE-SET,cncidr,DIRECT
        - GEOIP,CN,DIRECT
        - RULE-SET,greatfire,PROXY
        - RULE-SET,telegramcidr,PROXY
        - RULE-SET,tld-not-cn,PROXY
        - RULE-SET,gfw,PROXY
        - RULE-SET,proxy,PROXY        
        - MATCH,🔯 代理模式 # 規則之外的
